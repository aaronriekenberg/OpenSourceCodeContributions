# Open Source Contributions
My code contributions to open source projects in reverse chronological order.

- 2023 (Rust hyper): Contributed [graceful server connection shutdown example](https://github.com/hyperium/hyper/pull/3303) to [Hyper 1.0](https://hyper.rs)
   - This example [still](https://github.com/hyperium/hyper/tree/master/examples#going-further) [exists](https://github.com/hyperium/hyper/blob/master/examples/graceful_shutdown.rs)  in master branch
- 2022 (Go quic-go): Fixed bug in [Caddy](https://caddyserver.com) when using HTTP/3 + fastcgi resverse proxy
   - Observed [HTTP/3 frontend with fastcgi reverse proxy backend always returned 500](https://github.com/caddyserver/caddy/issues/4819)
   - After some [packet sniffing](https://github.com/caddyserver/caddy/issues/4819#issuecomment-1140540997) found the bug was in [server protocol field value](https://github.com/caddyserver/caddy/issues/4819#issuecomment-1142065408)
   - [I fixed this bug in quic-go](https://github.com/quic-go/quic-go/pull/3439/files) which fixed above issue in Caddy.
- 2022-2023 (C++ and Kotlin flatbuffers): [2](https://github.com/google/flatbuffers/pull/7092) [PRs](https://github.com/google/flatbuffers/pull/7881) to avoid always generating a viral/FUD-producing `@ExperimentalUnsignedTypes` annotation in Kotlin code.  Change is in the `flatc` flatbuffers schema compiler written in C++.
  - [First PR](https://github.com/google/flatbuffers/pull/7092): simple change given that [in Kotlin 1.5 unsigned types are not experimental](https://kotlinlang.org/docs/whatsnew15.html#stable-unsigned-integer-types), remove generation of annotation
  - Above change was [reverted](https://github.com/google/flatbuffers/pull/7775/files#diff-0b34e54e6c813fb09cab40f18d75181bb88a04850de4b140a6a7f9ce13115c17R290) because [unsigned arrays are still experimental](https://github.com/google/flatbuffers/issues/7862#issuecomment-1471550000)
  - [Second PR](https://github.com/google/flatbuffers/pull/7881): change to detect when unsigned arrays are used and generate annotation only when needed.
  - Second change [still exists in `flatc` main branch](https://github.com/google/flatbuffers/blob/master/src/idl_gen_kotlin.cpp#L704-L706)
- 2021 (Go quic-go): [Made port HTTP3 Alt-Svc header configurable](https://github.com/quic-go/quic-go/pull/3272/files)
  - Needed when Layer 4 firewall is redirecting UDP port for HTTP3 servers (e.g. `443 -> 8443`)
  - quic-go library is used as go HTTP3 library in [Caddy](https://caddyserver.com/) and [cloudflared](https://github.com/cloudflare/cloudflared) for example
- 2021 (Java Hazelast): [Added Nonnull annotations to StreamSerializer](https://github.com/hazelcast/hazelcast/pull/18071)
  - A colleague and I were unsure if parameters and return values from read/write methods were nullable.  So I proposed above PR to Hazelcast to enforce this at compile-time.
  - Change allows [Java spotbugs](https://spotbugs.github.io) to use these annotations at compile time to ensure proper null handling.
  - Also alows Kotlin code using Hazelcast to enforce [null-safety](https://kotlinlang.org/docs/null-safety.html)
- 2018 (Go CoreDNS): [Added MINTTL option](https://github.com/coredns/coredns/pull/2055)
  - Can be used to clamp minimum TTL when caching DNS responses similar to [`cache-min-ttl` option in Unbound](https://nlnetlabs.nl/documentation/unbound/unbound.conf/)
  - [MINTTL option still exists in CoreDNS](https://coredns.io/plugins/cache/)
- 2018 (Rust Hyper): [Update send_file example](https://github.com/hyperium/hyper/pull/1533/files)
  - Made example using async file operations provided by [tokio](https://tokio.rs/)
- 2017 (Rust Hyper): [Fixed infinite loop](https://github.com/hyperium/hyper/pull/1343)
  - Infinite loop happened converting from [`Cow::Owned`](https://doc.rust-lang.org/std/borrow/enum.Cow.html) string or bytes to hyper http body.
- 2016 (Java Apache Camel): [Fixed Kafka key and partition field names](https://github.com/apache/camel/pull/785/files) in [Apache Camel Kafka Component](https://github.com/apache/camel/pull/785/files)
  - Made these fields easier to use as properties on Camel exchange.
- 2014 (C/Java Netty): [Fixed issue 2280 in Netty](https://github.com/netty/netty/pull/2294/files)
  - In early days of Netty having an [epoll transport written in C and JNI](https://netty.io/wiki/native-transports.html), the epoll client transport was [incorrectly firing `channelActive` events even if connecting to server failed](https://github.com/netty/netty/issues/2280).
  - I fixed this bug in [Netty's C and Java code using JNI](https://github.com/netty/netty/pull/2294/files)
  - In modern times much of the JVM REST API world is running on Netty epoll transport (e.g. Spring Boot Webflux, Cassandra, Micronaut, others)
- 2011 (Java Netty): [Contributed failImmediatelyOnTooLongFrame option to Netty decoders](https://github.com/netty/netty/pull/25)
  - These options [still](https://github.com/netty/netty/blob/4.1/codec/src/main/java/io/netty/handler/codec/DelimiterBasedFrameDecoder.java#L67) [exist](https://github.com/netty/netty/blob/4.1/codec/src/main/java/io/netty/handler/codec/LengthFieldBasedFrameDecoder.java#L196) in Netty
  - Options been renamed to better name [`failFast`](https://github.com/netty/netty/commit/0850449b096218c1bf1c5de5e9603ff490f8efcb) which is a good move in retrospect :)
- 2011 (C++ boost): [Contributed lock-free version](https://lists.boost.org/boost-bugs/2011/12/20673.php) of `boost::shared_ptr` for IBM AIX operating system to improve performance by 5x.
  - [`boost::shared_ptr`](https://theboostcpplibraries.com/boost.smartpointers-shared-ownership) is reference-counted, thread-safe smart pointer similar to [Arc in Rust](https://doc.rust-lang.org/std/sync/struct.Arc.html).
  - My code [still exists in the boost source code](https://github.com/boostorg/smart_ptr/blob/develop/include/boost/smart_ptr/detail/sp_counted_base_aix.hpp).
  - Eventually `boost::shared_ptr` became [`std::shared_ptr`](https://en.cppreference.com/w/cpp/memory/shared_ptr) in c++11.
